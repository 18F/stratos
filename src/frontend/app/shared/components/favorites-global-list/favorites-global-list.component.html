<div class="favorite-list" *ngIf="(favs$ | async) as favorites">
  <div *ngIf="favorites.error && !favorites.fetching">Could not fetch favorites</div>
  <mat-progress-spinner *ngIf="!favorites.error && favorites.fetching" diameter="20" mode="indeterminate"></mat-progress-spinner>
  <div *ngIf="!favorites.error && !favorites.fetching">
    <div *ngFor="let favGroup of favorites.entityGroups">
      <app-favorites-meta-card class="favorite-list__endpoint-card" [favoriteEntity]="favGroup.endpoint"></app-favorites-meta-card>
      <div class="favorite-list__entity-cards">
        <app-favorites-meta-card *ngFor="let fav of favGroup.entities" class="favorite-list__entity-card"
          [favoriteEntity]="fav" [compact]="true"></app-favorites-meta-card>
      </div>
    </div>
  </div>
</div>