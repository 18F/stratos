<app-loading-page [isLoading]="deleting$" [text]="'Gathering application information'">
  <app-page-header>
    <h1>Delete application</h1>
  </app-page-header>
  <app-steppers *ngIf="!(fetchingRelated$ | async)" cancel="/applications">
    <app-step *ngIf="routes && routes.length" title="Routes">
      <app-delete-app-routes class="app-delete__step-table" (selected)="setSelectedRoutes($event)"></app-delete-app-routes>
    </app-step>
    <app-step title="Service Instances" *ngIf="instances && instances.length">
      <app-delete-app-instances class="app-delete__step-table" (selected)="setSelectedServiceInstances($event)"></app-delete-app-instances>
    </app-step>
    <app-step title="Confirm">
      <div class="app-delete__monitors">
        <!-- <app-action-monitor *ngIf="routes && routes.length" [data]="routes" [entityKey]="routeSchemaKey" [monitorState]="deletingState"></app-action-monitor> -->
        <h3>Application</h3>
        <app-action-monitor class="app-delete__monitor" [columns]="appDeleteColumns" [data$]="selectedApplication$" [entityKey]="applicationSchemaKey" [monitorState]="deletingState" [getId]="getId">
        </app-action-monitor>
        <h3>Routes</h3>
        <app-action-monitor class="app-delete__monitor" [columns]="routeDeleteColumns" [data$]="selectedRoutes$" [entityKey]="routeSchemaKey" [monitorState]="deletingState" [getId]="getId">
        </app-action-monitor>
        <h3>Instances</h3>
        <app-action-monitor class="app-delete__monitor" [columns]="instanceDeleteColumns" [data$]="selectedServiceInstances$" [entityKey]="serviceInstancesSchemaKey" [monitorState]="deletingState" [getId]="getId"></app-action-monitor>
        <button (click)="startDelete()">delete</button>
      </div>
    </app-step>
  </app-steppers>
</app-loading-page>
