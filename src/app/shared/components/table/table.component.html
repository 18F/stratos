<div class="app-table">
  <div>
    <md-card>
      <md-card-header [ngClass]="{'selected': (dataSource.isSelecting$ | async) }" [hidden]="(dataSource.listPagination$ | async)?.totalResults === 0">
      </md-card-header>
      <md-card-content>
        <md-table #table [hidden]="!(dataSource.isLoadingPage$ | async) && (dataSource.listPagination$ | async)?.totalResults === 0"
          [dataSource]="dataSource" mdSort>
          <ng-container *ngFor="let column of columns" [mdColumnDef]="column.columnId">
            <div *ngIf="column.sort">
              <md-header-cell *mdHeaderCellDef [ngClass]="column.class" md-sort-header disableClear="column.sort.disableClear">
                <app-table-cell [component]="column.headerCellComponent" [func]="column.headerCell" [dataSource]="dataSource"></app-table-cell>
              </md-header-cell>
            </div>
            <div *ngIf="!column.sort">
              <md-header-cell *mdHeaderCellDef [ngClass]="column.class">
                <app-table-cell [component]="column.headerCellComponent" [func]="column.headerCell" [dataSource]="dataSource"></app-table-cell>
              </md-header-cell>
            </div>
            <md-cell *mdCellDef="let row" [ngClass]="column.class">
              <app-table-cell [component]="column.cellComponent" [func]="column.cell" [row]="row" [dataSource]="dataSource"></app-table-cell>
            </md-cell>
          </ng-container>
          <md-header-row [hidden]="!(dataSource.isLoadingPage$ | async) && (dataSource.listPagination$ | async)?.totalResults === 0"
            *mdHeaderRowDef="columnNames"></md-header-row>
          <md-row *mdRowDef="let row; columns: columnNames;" [class.fixedRowHeight]="fixedRowHeight"></md-row>
        </md-table>
      </md-card-content>

    </md-card>
  </div>
</div>
