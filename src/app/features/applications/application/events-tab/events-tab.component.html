<div class="events-tab">
  <!-- TODO: RC Arrive from app wall error-->
  <app-table #appTable [dataSource]="eventSource">
    <div class="table-content">
      <md-table #table [hidden]="(eventSource.count$ | async) === 0" [dataSource]="eventSource" mdSort (mdSortChange)="appTable.sort.emit($event)">
        <ng-container mdColumnDef="timestamp">
          <md-header-cell *mdHeaderCellDef md-sort-header> Timestamp </md-header-cell>
          <md-cell *mdCellDef="let row">{{row.entity.timestamp | date:'medium'}}</md-cell>
        </ng-container>
        <ng-container mdColumnDef="type">
          <md-header-cell *mdHeaderCellDef> Type </md-header-cell>
          <md-cell *mdCellDef="let row">
            <div *ngFor="let item of row.entity.type.split('.')">
              {{item}}
            </div>
          </md-cell>
        </ng-container>
        <ng-container mdColumnDef="actor_name">
          <md-header-cell *mdHeaderCellDef> Actor Name </md-header-cell>
          <md-cell *mdCellDef="let row">
            <md-icon>{{row.entity.actor_type | eventTabActorIcon}}</md-icon> {{row.entity.actor_name}}</md-cell>
        </ng-container>
        <ng-container mdColumnDef="detail">
          <md-header-cell *mdHeaderCellDef> Detail </md-header-cell>
          <md-cell *mdCellDef="let row">
            <table>
              <tr *ngFor="let metadata of (row.entity.metadata) | values">
                <td>{{metadata.key}}</td>
                <td>{{metadata.value | json}}</td>
              </tr>
            </table>
          </md-cell>
        </ng-container>
        <md-header-row *mdHeaderRowDef="['timestamp', 'type', 'actor_name', 'detail']" [hidden]="(eventSource.count$ | async) === 0">
        </md-header-row>
        <md-row *mdRowDef="let row; columns: ['timestamp', 'type', 'actor_name', 'detail'];">
        </md-row>
      </md-table>



    </div>
  </app-table>
</div>
