<div class="variables-tab">
  <div class="variables-tab__env-table">
    <app-list [text]="{ title: 'Environment Variables', filter: 'Filter Variables'}" [enableFilter]="true" [cardComponent]="cardComponent"
      [addForm]="addForm" [tableFixedRowHeight]="true">
      <div app-table-add>
        <form #addForm="ngForm" novalidate>
          <md-form-field floatPlaceholder="never">
            <input mdInput id="envVarName" name="envVarName" #envVarName="ngModel" placeholder="Name" [(ngModel)]="envVarsDataSource.addItem.name"
              required [appUnique]="this.envVars$ | async">
            <md-error *ngIf="envVarName.errors && envVarName.errors.required">Name is required</md-error>
            <md-error *ngIf="envVarName.errors && envVarName.errors.appUnique">{{envVarName.errors.appUnique.message}}</md-error>
          </md-form-field>
          <md-form-field floatPlaceholder="never">
            <input mdInput #addRowName id="envVarValue" name="envVarValue" placeholder="Value" [(ngModel)]="envVarsDataSource.addItem.value">
          </md-form-field>
        </form>
      </div>
    </app-list>
  </div>

  <div class="variables-tab__env-code-block">
    <md-card>
      <md-card-header>
        <div>Variables</div>
      </md-card-header>
      <md-card-content>
        <app-code-block>{{ (envVars$ | async)?.metadata | json }}</app-code-block>
      </md-card-content>
    </md-card>
  </div>
</div>
