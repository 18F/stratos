<div class="variables-tab">
  <div class="variables-tab__env-table">

    <app-table #appTable [dataSource]="envVarsDataSource" [columns]="columns" [title]="'User Environment Variables'" [enableAdd]="true"
      [enableFilter]="true">
      <div app-table-add>
        <md-form-field floatPlaceholder="never">
          <input mdInput id="envVarName" name="envVarName" #envVarName="ngModel" placeholder="Name" [(ngModel)]="envVarsDataSource.addRow.name"
            required [appUnique]="envVarsDataSource.rowNames">
          <md-error *ngIf="envVarName.errors && envVarName.errors.required">Name is required</md-error>
          <md-error *ngIf="envVarName.errors && envVarName.errors.appUnique">{{envVarName.errors.appUnique.message}}</md-error>
        </md-form-field>
        <md-form-field floatPlaceholder="never">
          <input mdInput #addRowName id="envVarValue" name="envVarValue" placeholder="Value" [(ngModel)]="envVarsDataSource.addRow.value">
        </md-form-field>
        <!-- [appFocus]="envVarsDataSource.addAppFocusEventEmitter"  -->
      </div>
    </app-table>
  </div>

  <div class="variables-tab__env-code-block">
    <md-card>
      <md-card-header>Variables</md-card-header>
      <md-card-content>
        <app-code-block>{{ (envVars$ | async)?.metadata | json }}</app-code-block>
      </md-card-content>
    </md-card>
  </div>
</div>
