<div class="action-bar app-actions-bar panel-less">
  <div class="applications-header font-semi-bold pull-left" translate>Applications</div>
  <div class="pull-right">
    <button class="btn btn-primary"
      translate
      ng-click="applicationsListCtrl.eventService.$emit('cf.events.START_ADD_APP_WORKFLOW')">
      add application
    </button>
  </div>
</div>

<div class="applications-filter" ng-if="applicationsListCtrl.ready && applicationsListCtrl.clusterCount > 0">
  <div class="panel panel-default">
    <div class="panel-body">
      <form class="form-horizontal">
        <div class="form-group">
          <label class="control-label" translate>Cluster</label>
          <select-input
            arrow-icon="helion-icon helion-icon-Up_tab helion-icon-r180"
            ng-model="applicationsListCtrl.model.filterParams.cnsiGuid"
            input-options="applicationsListCtrl.clusters"
            tabindex="0"
            ng-change="applicationsListCtrl.setClusterOrganizations()">
          </select-input>
        </div>
        <div class="form-group" ng-if="applicationsListCtrl.model.filterParams.cnsiGuid !== 'all'">
          <label class="control-label" translate>Organization</label>
          <select-input
            arrow-icon="helion-icon helion-icon-Up_tab helion-icon-r180"
            ng-model="applicationsListCtrl.model.filterParams.orgGuid"
            input-options="applicationsListCtrl.organizations"
            tabindex="0"
            ng-change="applicationsListCtrl.setOrganizationSpaces()">
          </select-input>
        </div>
        <div class="form-group" ng-if="applicationsListCtrl.model.filterParams.orgGuid !== 'all'">
          <label class="control-label" translate>Space</label>
          <select-input
            arrow-icon="helion-icon helion-icon-Up_tab helion-icon-r180"
            ng-model="applicationsListCtrl.model.filterParams.spaceGuid"
            input-options="applicationsListCtrl.spaces"
            tabindex="0"
            ng-change="applicationsListCtrl.getApps()">
          </select-input>
        </div>
        <div class="reset-link">
          <a class="btn-link"
            ng-click="applicationsListCtrl.resetFilter()"
            ng-if="applicationsListCtrl.model.filterParams.cnsiGuid !== 'all'"
            translate>Reset</a>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="applications-empty" ng-if="applicationsListCtrl.ready && !applicationsListCtrl.hasApps">
  <div ng-if="applicationsListCtrl.clusterCount === 0">
    <div class="helion-icon helion-icon-3x helion-icon-Cluster"></div>
    <div class="applications-msg" translate>You cannot view any applications.</div>
    <div class="applications-cta" ><a class="btn-link" href="#/endpoint" translate>
      Use the Endpoints Dashboard</a> <span translate>to fix your connections or connect to new clusters.</span>
    </div>
  </div>
  <div ng-if="applicationsListCtrl.clusterCount > 0">
    <div class="helion-icon helion-icon-3x helion-icon-Application"></div>
    <div class="applications-msg" translate>You have no applications.</div>
    <div class="applications-cta">
      <a class="btn btn-link" ng-click="applicationsListCtrl.eventService.$emit('cf.events.START_ADD_APP_WORKFLOW')" translate><span>Add an application.</span></a>
    </div>
  </div>
</div>

<div ui-view></div>
